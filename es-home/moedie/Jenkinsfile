@Library('es-jenkins-shared') _
def registry = 'artifacts.trmc.osd.mil/minerva-docker'
def base = 'extension-scaffold/es-home'
def trmc_image_version = params.TRMC_IMAGE_VERSION ? params.TRMC_IMAGE_VERSION : ""

pipeline {
    agent any

    stages {
        stage('Build es-home container') {
            steps {
                script {
                    sh "docker build -t es-home \"\$WORKSPACE\" -f \"\$WORKSPACE/Dockerfile\""
                }
            }
        }
        stage('built-in echo testing'){
            steps {
                echo 'testing built-in echo...'
            }
        }

        stage('shared-library testEcho'){
            steps {
                testEcho()
            }
        }
    }
}